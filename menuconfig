#!/bin/bash

# Verificar si Python 3 está instalado
if ! command -v python3 &> /dev/null; then
    echo "Error: Python 3 no está instalado. Por favor, instálalo para continuar."
    echo "Puedes instalarlo con: sudo apt update && sudo apt install python3 python3-tk"
    exit 1
fi

# Verificar si el módulo tkinter está instalado
if ! python3 -c "import tkinter" 2>/dev/null; then
    echo "Instalando dependencias necesarias..."
    if command -v apt-get &> /dev/null; then
        sudo apt-get update && sudo apt-get install -y python3-tk
    elif command -v yum &> /dev/null; then
        sudo yum install -y python3-tk
    else
        echo "No se pudo determinar el gestor de paquetes."
        echo "Por favor, instala manualmente el paquete 'python3-tk' o 'python-tk'."
        exit 1
    fi
fi

# Ejecutar el menú de configuración
echo "Iniciando menú de configuración..."
python3 tools/kconfig/tkconfig.py

# Mostrar mensaje de confirmación
echo ""
echo "Configuración guardada en .config"
echo "Puedes revisar el archivo .config generado"
echo ""

exit 0
